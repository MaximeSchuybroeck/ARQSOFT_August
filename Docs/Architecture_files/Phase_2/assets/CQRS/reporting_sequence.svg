<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="434.7px" preserveAspectRatio="none" style="width:744px;height:434px;background:#FFFFFF;" version="1.1" viewBox="0 0 744 434" width="744.3px" zoomAndPan="magnify"><title>Reporting query - Top 5 most lent authors</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="251.3109" x="248.2545" y="27.0967">Reporting query - Top 5 most lent authors</text><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="230.6953" width="7.2" x="16.9014" y="115.077"/><line style="stroke:#181818;stroke-width:0.45;stroke-dasharray:5.0,5.0;" x1="19.8" x2="19.8" y1="115.077" y2="345.7723"/></g><g><title>Client UI</title><rect fill="#000000" fill-opacity="0.00000" height="230.6953" width="7.2" x="122.4066" y="115.077"/><line style="stroke:#181818;stroke-width:0.45;stroke-dasharray:5.0,5.0;" x1="125.2494" x2="125.2494" y1="115.077" y2="345.7723"/></g><g><title>Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="230.6953" width="7.2" x="290.9421" y="115.077"/><line style="stroke:#181818;stroke-width:0.45;stroke-dasharray:5.0,5.0;" x1="293.9805" x2="293.9805" y1="115.077" y2="345.7723"/></g><g><title>Reporting Service</title><rect fill="#000000" fill-opacity="0.00000" height="230.6953" width="7.2" x="430.2677" y="115.077"/><line style="stroke:#181818;stroke-width:0.45;stroke-dasharray:5.0,5.0;" x1="433.2938" x2="433.2938" y1="115.077" y2="345.7723"/></g><g><title>Postgres</title><rect fill="#000000" fill-opacity="0.00000" height="230.6953" width="7.2" x="665.7869" y="115.077"/><line style="stroke:#181818;stroke-width:0.45;stroke-dasharray:5.0,5.0;" x1="669.2537" x2="669.2537" y1="115.077" y2="345.7723"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="26.6027" x="4.5" y="111.9146">User</text><ellipse cx="20.5014" cy="51.968" fill="#E2E2F0" rx="7.2" ry="7.2" style="stroke:#181818;stroke-width:0.45;"/><path d="M20.5014,59.168 L20.5014,83.468 M8.8014,66.368 L32.2014,66.368 M20.5014,83.468 L8.8014,96.968 M20.5014,83.468 L32.2014,96.968" fill="none" style="stroke:#181818;stroke-width:0.45;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="26.6027" x="4.5" y="358.4689">User</text><ellipse cx="20.5014" cy="369.2813" fill="#E2E2F0" rx="7.2" ry="7.2" style="stroke:#181818;stroke-width:0.45;"/><path d="M20.5014,376.4813 L20.5014,400.7813 M8.8014,383.6813 L32.2014,383.6813 M20.5014,400.7813 L8.8014,414.2813 M20.5014,400.7813 L32.2014,414.2813" fill="none" style="stroke:#181818;stroke-width:0.45;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="60.9144" x="95.5494" y="84.818"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="48.3144" x="101.8494" y="104.7146">Client UI</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="60.9144" x="95.5494" y="344.8723"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="48.3144" x="101.8494" y="364.7689">Client UI</text></g><g class="participant participant-head" data-participant="gw"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="62.3232" x="263.3805" y="84.818"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="49.7232" x="269.6805" y="104.7146">Gateway</text></g><g class="participant participant-tail" data-participant="gw"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="62.3232" x="263.3805" y="344.8723"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="49.7232" x="269.6805" y="364.7689">Gateway</text></g><g class="participant participant-head" data-participant="reporting"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="112.7479" x="377.4938" y="84.818"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.1479" x="383.7938" y="104.7146">Reporting Service</text></g><g class="participant participant-tail" data-participant="reporting"><rect fill="#E2E2F0" height="29.359" rx="2.25" ry="2.25" style="stroke:#181818;stroke-width:0.45;" width="112.7479" x="377.4938" y="344.8723"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.1479" x="383.7938" y="364.7689">Reporting Service</text></g><g class="participant participant-head" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="49.7232" x="641.8252" y="95.1557">Postgres</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.2663" x="594.5537" y="111.9146">reporting_service schema</text><path d="M653.1869,49.159 C653.1869,40.159 669.3869,40.159 669.3869,40.159 C669.3869,40.159 685.5869,40.159 685.5869,49.159 L685.5869,72.559 C685.5869,81.559 669.3869,81.559 669.3869,81.559 C669.3869,81.559 653.1869,81.559 653.1869,72.559 L653.1869,49.159" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.35;"/><path d="M653.1869,49.159 C653.1869,58.159 669.3869,58.159 669.3869,58.159 C669.3869,58.159 685.5869,58.159 685.5869,49.159" fill="none" style="stroke:#181818;stroke-width:1.35;"/></g><g class="participant participant-tail" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="49.7232" x="641.8252" y="358.4689">Postgres</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.2663" x="594.5537" y="375.2279">reporting_service schema</text><path d="M653.1869,387.3902 C653.1869,378.3902 669.3869,378.3902 669.3869,378.3902 C669.3869,378.3902 685.5869,378.3902 685.5869,387.3902 L685.5869,410.7902 C685.5869,419.7902 669.3869,419.7902 669.3869,419.7902 C669.3869,419.7902 653.1869,419.7902 653.1869,410.7902 L653.1869,387.3902" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.35;"/><path d="M653.1869,387.3902 C653.1869,396.3902 669.3869,396.3902 669.3869,396.3902 C669.3869,396.3902 685.5869,396.3902 685.5869,387.3902" fill="none" style="stroke:#181818;stroke-width:1.35;"/></g><g class="message" data-participant-1="user" data-participant-2="client"><polygon fill="#181818" points="115.2066,141.4389,124.2066,145.0389,115.2066,148.6389,118.8066,145.0389" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;" x1="20.5014" x2="120.6066" y1="145.0389" y2="145.0389"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="83.9052" x="31.3014" y="140.3024">View dashboard</text></g><g class="message" data-participant-1="client" data-participant-2="gw"><polygon fill="#181818" points="283.7421,169.6008,292.7421,173.2008,283.7421,176.8008,287.3421,173.2008" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;" x1="126.0066" x2="289.1421" y1="173.2008" y2="173.2008"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="146.9355" x="136.8066" y="168.4644">GET /api/reports/top5 (JWT)</text></g><g class="message" data-participant-1="gw" data-participant-2="reporting"><polygon fill="#181818" points="423.0677,197.7627,432.0677,201.3627,423.0677,204.9627,426.6677,201.3627" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;" x1="294.5421" x2="428.4677" y1="201.3627" y2="201.3627"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="42.9095" x="342.7501" y="196.6263">Forward</text></g><g class="message" data-participant-1="reporting" data-participant-2="db"><polygon fill="#181818" points="658.5869,241.4865,667.5869,245.0865,658.5869,248.6865,662.1869,245.0865" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;" x1="433.8677" x2="663.9869" y1="245.0865" y2="245.0865"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="200.9224" x="451.1661" y="224.7882">SELECT * FROM author_borrow_stats</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="213.9192" x="444.6677" y="240.3501">ORDER BY borrow_count DESC LIMIT 5</text></g><g class="message" data-participant-1="db" data-participant-2="reporting"><polygon fill="#181818" points="443.7677,269.6484,434.7677,273.2484,443.7677,276.8484,440.1677,273.2484" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="438.3677" x2="668.4869" y1="273.2484" y2="273.2484"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="24.7025" x="539.276" y="268.512">rows</text></g><g class="message" data-participant-1="reporting" data-participant-2="gw"><polygon fill="#181818" points="304.4421,297.8104,295.4421,301.4104,304.4421,305.0104,300.8421,301.4104" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="299.0421" x2="432.9677" y1="301.4104" y2="301.4104"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="117.7255" x="305.3421" y="296.6739">200 OK [top 5 authors]</text></g><g class="message" data-participant-1="gw" data-participant-2="client"><polygon fill="#181818" points="135.9066,325.9723,126.9066,329.5723,135.9066,333.1723,132.3066,329.5723" style="stroke:#181818;stroke-width:0.9;"/><line style="stroke:#181818;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="130.5066" x2="293.6421" y1="329.5723" y2="329.5723"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="39.676" x="190.4364" y="324.8358">200 OK</text></g><!--SRC=[NP91Jy9048Nl-oicU54J0Z7Xui44iH1KWe6gCMh8T3ks6qktxcnj_FTEIv5YBvlE-_RDszdrncS4AogiyoPFuAiazmDz26q18zXQzf1HxW5Bdrh7Il6doGjqk8K8zMVYR9d74vjP1oSVpTSXcCGkrxGWPaned9aa1orsv3gK8ovipdlgcZ9RZPsp5NXNKjSknTXMTSeFp9YKGksbxoEJ0sGePLL2UgDDWPAvDybCdVrntgjrtVmT4pFqLE5FeoVLiNOOofhSjz7KK6vVLJ5wZ909UWyofaIEyPR_gHlUxG7MAMsnsHf7IjKXeN_LXe5BU39KGOoSHXPThDgw44abwYm8OO256UoCUU1jCOBJs-VmJ0aWs5z7eQVMLRN9eIP078co3kw3IGZdC5qj5-rbRY9RJtd37hr4NwvkWXLSlq1RrdAp7cw2zGJkvujv22CbLlr_BONaRhzzy8lX49PtyEgRTzI-dlScS_VqEqpz0W00]--></g></svg>