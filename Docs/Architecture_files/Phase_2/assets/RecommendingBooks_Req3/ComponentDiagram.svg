<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="454px" preserveAspectRatio="none" style="width:1251px;height:454px;background:#FFFFFF;" version="1.1" viewBox="0 0 1251 454" width="1251px" zoomAndPan="magnify"><defs/><g><!--cluster LendingSvc--><g class="cluster" data-entity="LendingSvc" data-source-line="5" data-uid="ent0003" id="cluster_LendingSvc"><rect fill="none" height="256.5" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="426" x="7" y="191.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="152.5029" x="143.7485" y="208.6074">Lending Service (8084)</text></g><!--entity LendingController--><g class="entity" data-entity="LendingController" data-source-line="6" data-uid="ent0004" id="entity_LendingController"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.5166" x="34.5" y="236.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5166" x="44.5" y="261.6074">LendingController</text></g><!--entity LendingService--><g class="entity" data-entity="LendingService" data-source-line="7" data-uid="ent0005" id="entity_LendingService"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.5098" x="200.5" y="236.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.5098" x="210.5" y="261.6074">LendingService</text></g><!--entity LendingRepository--><g class="entity" data-entity="LendingRepository" data-source-line="8" data-uid="ent0006" id="entity_LendingRepository"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.7441" x="31.5" y="385"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7441" x="41.5" y="410.1074">LendingRepository</text></g><!--entity RecommendationRepository--><g class="entity" data-entity="RecommendationRepository" data-source-line="9" data-uid="ent0007" id="entity_RecommendationRepository"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.6406" x="203.5" y="385"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6406" x="213.5" y="410.1074">RecommendationRepository</text></g><!--entity Reader--><g class="entity" data-entity="Reader" data-source-line="3" data-uid="ent0002" id="entity_Reader"><ellipse cx="424.9585" cy="14" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M424.9585,22 L424.9585,49 M411.9585,30 L437.9585,30 M424.9585,49 L411.9585,64 M424.9585,49 L437.9585,64" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.917" x="402" y="80.6074">Reader</text></g><!--entity DB--><g class="entity" data-entity="DB" data-source-line="12" data-uid="ent0008" id="entity_DB"><path d="M457.5,381.5 C457.5,371.5 549.2031,371.5 549.2031,371.5 C549.2031,371.5 640.9063,371.5 640.9063,381.5 L640.9063,427.7422 C640.9063,437.7422 549.2031,437.7422 549.2031,437.7422 C549.2031,437.7422 457.5,437.7422 457.5,427.7422 L457.5,381.5" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M457.5,381.5 C457.5,391.5 549.2031,391.5 549.2031,391.5 C549.2031,391.5 640.9063,391.5 640.9063,381.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2617" x="467.5" y="410.6074">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.4063" x="467.5" y="429.2285">(schema: lending_service)</text></g><!--entity BookSvc--><g class="entity" data-entity="BookSvc" data-source-line="13" data-uid="ent0009" id="entity_BookSvc"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.8408" x="675.5" y="385"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.8408" x="685.5" y="410.1074">Book Service (8083)</text></g><!--entity ReaderSvc--><g class="entity" data-entity="ReaderSvc" data-source-line="14" data-uid="ent0010" id="entity_ReaderSvc"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.8477" x="857.5" y="385"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8477" x="867.5" y="410.1074">Reader Service (8085)</text></g><!--entity MQ--><g class="entity" data-entity="MQ" data-source-line="15" data-uid="ent0011" id="entity_MQ"><path d="M1059,390 L1239.4131,390 C1244.4131,390 1244.4131,404.3105 1244.4131,404.3105 C1244.4131,404.3105 1244.4131,418.6211 1239.4131,418.6211 L1059,418.6211 C1054,418.6211 1054,404.3105 1054,404.3105 C1054,404.3105 1054,390 1059,390" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1239.4131,390 C1234.4131,390 1234.4131,404.3105 1234.4131,404.3105 C1234.4131,418.6211 1239.4131,418.6211 1239.4131,418.6211" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.4131" x="1059" y="410.1074">RabbitMQ (optional events)</text></g><!--link Reader to LendingSvc--><g class="link" data-entity-1="Reader" data-entity-2="LendingSvc" data-source-line="17" data-uid="lnk12" id="link_Reader_LendingSvc"><path d="M425,84.82 C425,114.57 425,150.26 425,184.93" fill="none" id="Reader-to-LendingSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="425,190.93,429,181.93,425,185.93,421,181.93,425,190.93" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.9409" x="464.124" y="129.5283">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1436" x="437.0227" y="146.8193">/borrow, /return</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.189" x="426" y="164.1104">(+ recommended?)</text></g><!--link LendingSvc to DB--><g class="link" data-entity-1="LendingSvc" data-entity-2="DB" data-source-line="18" data-uid="lnk13" id="link_LendingSvc_DB"><path d="M433.1655,266.6453 C433.2526,266.7481 433.3402,266.8517 433.4285,266.9559 C433.605,267.1644 433.7839,267.3758 433.9652,267.5899 C434.6902,268.4463 435.4529,269.3471 436.2508,270.2897 C442.6341,277.83 451.2731,288.0363 460.9463,299.465 C480.2925,322.3225 499.8994,345.4896 517.7444,366.5796" fill="none" id="LendingSvc-to-DB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="521.62,371.16,518.8602,361.7057,518.3903,367.343,512.753,366.8732,521.62,371.16" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8208" x="495" y="329.0283">JPA/Hibernate</text></g><!--link LendingSvc to BookSvc--><g class="link" data-entity-1="LendingSvc" data-entity-2="BookSvc" data-source-line="19" data-uid="lnk14" id="link_LendingSvc_BookSvc"><path d="M433.1273,258.6648 C433.353,258.7126 433.583,258.7614 433.8172,258.8112 C434.2857,258.9108 434.771,259.0144 435.2729,259.1221 C437.2803,259.5525 439.5516,260.047 442.0592,260.6041 C452.0897,262.8325 465.9019,266.0637 481.7388,270.215 C513.4125,278.5175 553.185,290.5 587,305.5 C637.63,327.96 686.8565,359.8952 717.9765,381.4352" fill="none" id="LendingSvc-to-BookSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="722.91,384.85,717.7863,376.4389,718.7988,382.0044,713.2332,383.0168,722.91,384.85" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.0718" x="678.3777" y="320.5283">Feign HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8271" x="652" y="337.8193">(validate/resolve title)</text></g><!--link LendingSvc to ReaderSvc--><g class="link" data-entity-1="LendingSvc" data-entity-2="ReaderSvc" data-source-line="20" data-uid="lnk15" id="link_LendingSvc_ReaderSvc"><path d="M433.4162,256.8422 C433.592,256.84 433.7704,256.8378 433.9514,256.8357 C434.6754,256.827 435.4407,256.8188 436.2464,256.8113 C442.6917,256.7514 451.7199,256.7365 462.8405,256.893 C485.0816,257.2059 515.6919,258.2044 550.7463,260.8988 C620.855,266.2875 708.74,278.46 783,305.5 C834.45,324.24 882.036,358.3154 910.806,381.0954" fill="none" id="LendingSvc-to-ReaderSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="915.51,384.82,910.9371,376.0971,911.59,381.7162,905.971,382.3691,915.51,384.82" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.0718" x="863.2922" y="320.5283">Feign HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6563" x="851" y="337.8193">(validate reader)</text></g><!--link LendingSvc to MQ--><g class="link" data-entity-1="LendingSvc" data-entity-2="MQ" data-source-line="21" data-uid="lnk16" id="link_LendingSvc_MQ"><path d="M433.6323,257.3479 C434.6505,257.3904 435.7538,257.4367 436.9397,257.487 C439.3113,257.5874 442.0128,257.7033 445.0229,257.8346 C457.0631,258.3601 474.0397,259.133 494.5838,260.1541 C535.6719,262.1962 591.03,265.2313 649.7075,269.265 C767.0625,277.3325 897.695,289.395 954,305.5 C1021.76,324.88 1088.9363,364.5958 1123.3763,386.6358" fill="none" id="LendingSvc-to-MQ" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1128.43,389.87,1123.0055,381.6496,1124.2186,387.1749,1118.6933,388.3879,1128.43,389.87" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.5552" x="1043" y="320.5283">publish LendingReturned</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.1963" x="1088.1794" y="337.8193">(optional)</text></g><!--SRC=[TL5TIyCm57tFhxZigKEt2IgCFKoSGuPiiBLxSo9fU-d2qgGcQMM8_zqRKqUd-9XppySzD_OWLCKDBo7JPQKLAfUueqGmc3ck2ecCySnf0p7o70rZ9nxqbgXoeGf8q3GYGuZ6L-ERVW-uXNQKD1byC83dzlsWbJDQIZGl7RJLTw4OAsq5vHw_qHWfjgGHTqAhxl2JCG9voYr2RwsjAmmcc-LEHJRROyad88FZgmqfOR_vh5jaflNXhCLrO7cSAdIfuGndvDj03XDFVwknfcrYdgR2hJOGwSglpILWGoOsy5SRnbgtmM3QlTW45jljUgT6gJP6lr_2oA2hZQ9I5_vZmYaml-kpZigRp6SaVbhVZnOYHQEumz-CjXBH7b4KgasA6Yu5tH4foMhP83ZX9FxnFtNyJq_hUSQPS3YSKbbIL7KgXTt3wOzzASn9_dEWFli2]--></g></svg>