<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="618px" preserveAspectRatio="none" style="width:1552px;height:618px;background:#FFFFFF;" version="1.1" viewBox="0 0 1552 618" width="1552px" zoomAndPan="magnify"><defs/><g><!--cluster Client--><g class="cluster" data-entity="Client" data-source-line="59" data-uid="ent0009" id="cluster_Client"><path d="M1049,471 L1088.8896,471 A3.75,3.75 0 0 1 1091.3896,473.5 L1098.3896,495.6211 L1543,495.6211 A2.5,2.5 0 0 1 1545.5,498.1211 L1545.5,606.5 A2.5,2.5 0 0 1 1543,609 L1049,609 A2.5,2.5 0 0 1 1046.5,606.5 L1046.5,473.5 A2.5,2.5 0 0 1 1049,471" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1046.5" x2="1098.3896" y1="495.6211" y2="495.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38.8896" x="1050.5" y="488.1074">Client</text></g><!--class BookClient--><g class="entity" data-entity="BookClient" data-source-line="60" data-uid="ent0010" id="entity_BookClient"><rect fill="#F1F1F1" height="85.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232.6094" x="1063" y="508"/><ellipse cx="1141.2031" cy="524" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1142.1563,520.6406 L1142.1563,527.2969 L1143.875,527.2969 Q1144.4844,527.2969 1144.75,527.5313 Q1145.0156,527.7656 1145.0156,528.1563 Q1145.0156,528.5313 1144.75,528.7656 Q1144.4844,529 1143.875,529 L1138.7344,529 Q1138.125,529 1137.8594,528.7656 Q1137.5938,528.5313 1137.5938,528.1406 Q1137.5938,527.7656 1137.8594,527.5313 Q1138.125,527.2969 1138.7344,527.2969 L1140.4531,527.2969 L1140.4531,520.6406 L1138.7344,520.6406 Q1138.125,520.6406 1137.8594,520.4063 Q1137.5938,520.1719 1137.5938,519.7813 Q1137.5938,519.4063 1137.8594,519.1719 Q1138.125,518.9375 1138.7344,518.9375 L1143.875,518.9375 Q1144.4844,518.9375 1144.75,519.1719 Q1145.0156,519.4063 1145.0156,519.7813 Q1145.0156,520.1719 1144.75,520.4063 Q1144.4844,520.6406 1143.875,520.6406 L1142.1563,520.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="67.7031" x="1161.7031" y="529.7969">BookClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="1064" x2="1294.6094" y1="540" y2="540"/><line style="stroke:#181818;stroke-width:0.5;" x1="1064" x2="1294.6094" y1="548" y2="548"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.0576" x="1069" y="567.1074">+boolean bookExists(Long)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.6094" x="1069" y="585.7285">+Long resolveBookIdByTitle(String)</text></g><!--class ReaderClient--><g class="entity" data-entity="ReaderClient" data-source-line="64" data-uid="ent0011" id="entity_ReaderClient"><rect fill="#F1F1F1" height="66.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.5957" x="1331.5" y="517"/><ellipse cx="1385.1929" cy="533" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1386.146,529.6406 L1386.146,536.2969 L1387.8647,536.2969 Q1388.4741,536.2969 1388.7397,536.5313 Q1389.0054,536.7656 1389.0054,537.1563 Q1389.0054,537.5313 1388.7397,537.7656 Q1388.4741,538 1387.8647,538 L1382.7241,538 Q1382.1147,538 1381.8491,537.7656 Q1381.5835,537.5313 1381.5835,537.1406 Q1381.5835,536.7656 1381.8491,536.5313 Q1382.1147,536.2969 1382.7241,536.2969 L1384.4429,536.2969 L1384.4429,529.6406 L1382.7241,529.6406 Q1382.1147,529.6406 1381.8491,529.4063 Q1381.5835,529.1719 1381.5835,528.7813 Q1381.5835,528.4063 1381.8491,528.1719 Q1382.1147,527.9375 1382.7241,527.9375 L1387.8647,527.9375 Q1388.4741,527.9375 1388.7397,528.1719 Q1389.0054,528.4063 1389.0054,528.7813 Q1389.0054,529.1719 1388.7397,529.4063 Q1388.4741,529.6406 1387.8647,529.6406 L1386.146,529.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81.71" x="1405.6929" y="538.7969">ReaderClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="1332.5" x2="1528.0957" y1="549" y2="549"/><line style="stroke:#181818;stroke-width:0.5;" x1="1332.5" x2="1528.0957" y1="557" y2="557"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.5957" x="1337.5" y="576.1074">+boolean readerExists(String)</text></g><!--class Lending--><g class="entity" data-entity="Lending" data-source-line="3" data-uid="ent0002" id="entity_Lending"><rect fill="#F1F1F1" height="159.7266" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228.7334" x="443" y="264"/><ellipse cx="528.2031" cy="280" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M530.9688,275.875 Q531.125,275.6563 531.3125,275.5469 Q531.5,275.4375 531.7188,275.4375 Q532.0938,275.4375 532.3281,275.7031 Q532.5625,275.9531 532.5625,276.5625 L532.5625,278.0156 Q532.5625,278.625 532.3281,278.8906 Q532.0938,279.1563 531.7188,279.1563 Q531.375,279.1563 531.1719,278.9531 Q530.9688,278.7656 530.8594,278.25 Q530.8125,277.8906 530.625,277.7031 Q530.2969,277.3281 529.6875,277.1094 Q529.0781,276.8906 528.4531,276.8906 Q527.6875,276.8906 527.0469,277.2188 Q526.4219,277.5469 525.9219,278.2969 Q525.4375,279.0469 525.4375,280.0781 L525.4375,281.1719 Q525.4375,282.4063 526.3281,283.2344 Q527.2188,284.0469 528.8125,284.0469 Q529.75,284.0469 530.4063,283.7969 Q530.7969,283.6406 531.2188,283.2031 Q531.4844,282.9375 531.625,282.8594 Q531.7813,282.7813 531.9844,282.7813 Q532.3125,282.7813 532.5625,283.0469 Q532.8281,283.2969 532.8281,283.6406 Q532.8281,283.9844 532.4844,284.3906 Q531.9844,284.9688 531.1875,285.2969 Q530.1094,285.75 528.8125,285.75 Q527.2969,285.75 526.0938,285.125 Q525.1094,284.625 524.4219,283.5625 Q523.7344,282.4844 523.7344,281.2031 L523.7344,280.0469 Q523.7344,278.7188 524.3438,277.5781 Q524.9688,276.4219 526.0625,275.8125 Q527.1563,275.1875 528.3906,275.1875 Q529.125,275.1875 529.7656,275.3594 Q530.4219,275.5156 530.9688,275.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.8271" x="548.7031" y="285.7969">Lending</text><line style="stroke:#181818;stroke-width:0.5;" x1="444" x2="670.7334" y1="296" y2="296"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.1064" x="449" y="315.1074">+Long id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.2441" x="449" y="333.7285">+Long bookId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1133" x="449" y="352.3496">+String readerEmail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.8164" x="449" y="370.9707">+java.time.LocalDate startDate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.9473" x="449" y="389.5918">+java.time.LocalDate dueDate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216.7334" x="449" y="408.2129">+java.time.LocalDate returnedDate</text><line style="stroke:#181818;stroke-width:0.5;" x1="444" x2="670.7334" y1="415.7266" y2="415.7266"/></g><!--class Sentiment--><g class="entity" data-entity="Sentiment" data-source-line="12" data-uid="ent0003" id="entity_Sentiment"><rect fill="#F1F1F1" height="85.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.0342" x="31" y="53.5"/><ellipse cx="46" cy="69.5" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M44.8594,70.2969 L44.8594,72.7969 L49.1875,72.7969 L49.1875,71.875 Q49.1875,71.2656 49.4219,71 Q49.6719,70.7344 50.0469,70.7344 Q50.4219,70.7344 50.6563,71 Q50.8906,71.2656 50.8906,71.875 L50.8906,74.5 L42.8906,74.5 Q42.2656,74.5 42,74.2656 Q41.75,74.0313 41.75,73.6406 Q41.75,73.2656 42.0156,73.0313 Q42.2813,72.7969 42.8906,72.7969 L43.1563,72.7969 L43.1563,66.1406 L42.8906,66.1406 Q42.2656,66.1406 42,65.9063 Q41.75,65.6719 41.75,65.2813 Q41.75,64.9063 42,64.6719 Q42.2656,64.4375 42.8906,64.4375 L50.5156,64.4375 L50.5156,67.0313 Q50.5156,67.6406 50.2813,67.9063 Q50.0625,68.1563 49.6719,68.1563 Q49.2969,68.1563 49.0625,67.9063 Q48.8281,67.6406 48.8281,67.0313 L48.8281,66.1406 L44.8594,66.1406 L44.8594,68.5938 L46.3438,68.5938 Q46.3438,67.9375 46.4688,67.75 Q46.7344,67.3438 47.2031,67.3438 Q47.5781,67.3438 47.8125,67.6094 Q48.0469,67.8594 48.0469,68.4688 L48.0469,70.4375 Q48.0469,70.9844 47.9219,71.1719 Q47.6563,71.5625 47.2031,71.5625 Q46.7344,71.5625 46.4688,71.1563 Q46.3438,70.9688 46.3438,70.2969 L44.8594,70.2969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0342" x="60" y="75.2969">Sentiment</text><line style="stroke:#181818;stroke-width:0.5;" x1="32" x2="125.0342" y1="85.5" y2="85.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5723" x="37" y="104.6074">POSITIVE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.793" x="37" y="123.2285">NEGATIVE</text><line style="stroke:#181818;stroke-width:0.5;" x1="32" x2="125.0342" y1="130.7422" y2="130.7422"/></g><!--class Recommendation--><g class="entity" data-entity="Recommendation" data-source-line="17" data-uid="ent0004" id="entity_Recommendation"><rect fill="#F1F1F1" height="178.3477" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238.0508" x="438.5" y="7"/><ellipse cx="498.4136" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M501.1792,18.875 Q501.3354,18.6563 501.5229,18.5469 Q501.7104,18.4375 501.9292,18.4375 Q502.3042,18.4375 502.5386,18.7031 Q502.7729,18.9531 502.7729,19.5625 L502.7729,21.0156 Q502.7729,21.625 502.5386,21.8906 Q502.3042,22.1563 501.9292,22.1563 Q501.5854,22.1563 501.3823,21.9531 Q501.1792,21.7656 501.0698,21.25 Q501.0229,20.8906 500.8354,20.7031 Q500.5073,20.3281 499.8979,20.1094 Q499.2886,19.8906 498.6636,19.8906 Q497.8979,19.8906 497.2573,20.2188 Q496.6323,20.5469 496.1323,21.2969 Q495.6479,22.0469 495.6479,23.0781 L495.6479,24.1719 Q495.6479,25.4063 496.5386,26.2344 Q497.4292,27.0469 499.0229,27.0469 Q499.9604,27.0469 500.6167,26.7969 Q501.0073,26.6406 501.4292,26.2031 Q501.6948,25.9375 501.8354,25.8594 Q501.9917,25.7813 502.1948,25.7813 Q502.5229,25.7813 502.7729,26.0469 Q503.0386,26.2969 503.0386,26.6406 Q503.0386,26.9844 502.6948,27.3906 Q502.1948,27.9688 501.3979,28.2969 Q500.3198,28.75 499.0229,28.75 Q497.5073,28.75 496.3042,28.125 Q495.3198,27.625 494.6323,26.5625 Q493.9448,25.4844 493.9448,24.2031 L493.9448,23.0469 Q493.9448,21.7188 494.5542,20.5781 Q495.1792,19.4219 496.2729,18.8125 Q497.3667,18.1875 498.6011,18.1875 Q499.3354,18.1875 499.9761,18.3594 Q500.6323,18.5156 501.1792,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7236" x="518.9136" y="28.7969">Recommendation</text><line style="stroke:#181818;stroke-width:0.5;" x1="439.5" x2="675.5508" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.1064" x="444.5" y="58.1074">+Long id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.0371" x="444.5" y="76.7285">+Long lendingId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.2441" x="444.5" y="95.3496">+Long bookId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1133" x="444.5" y="113.9707">+String readerEmail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.7959" x="444.5" y="132.5918">+Sentiment sentiment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.21" x="444.5" y="151.2129">+String comment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.0508" x="444.5" y="169.834">+java.time.LocalDateTime createdAt</text><line style="stroke:#181818;stroke-width:0.5;" x1="439.5" x2="675.5508" y1="177.3477" y2="177.3477"/></g><!--class LendingService--><g class="entity" data-entity="LendingService" data-source-line="27" data-uid="ent0005" id="entity_LendingService"><rect fill="#F1F1F1" height="141.1055" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="479.2979" x="707" y="273.5"/><ellipse cx="894.144" cy="289.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M896.9097,285.375 Q897.0659,285.1563 897.2534,285.0469 Q897.4409,284.9375 897.6597,284.9375 Q898.0347,284.9375 898.269,285.2031 Q898.5034,285.4531 898.5034,286.0625 L898.5034,287.5156 Q898.5034,288.125 898.269,288.3906 Q898.0347,288.6563 897.6597,288.6563 Q897.3159,288.6563 897.1128,288.4531 Q896.9097,288.2656 896.8003,287.75 Q896.7534,287.3906 896.5659,287.2031 Q896.2378,286.8281 895.6284,286.6094 Q895.019,286.3906 894.394,286.3906 Q893.6284,286.3906 892.9878,286.7188 Q892.3628,287.0469 891.8628,287.7969 Q891.3784,288.5469 891.3784,289.5781 L891.3784,290.6719 Q891.3784,291.9063 892.269,292.7344 Q893.1597,293.5469 894.7534,293.5469 Q895.6909,293.5469 896.3472,293.2969 Q896.7378,293.1406 897.1597,292.7031 Q897.4253,292.4375 897.5659,292.3594 Q897.7222,292.2813 897.9253,292.2813 Q898.2534,292.2813 898.5034,292.5469 Q898.769,292.7969 898.769,293.1406 Q898.769,293.4844 898.4253,293.8906 Q897.9253,294.4688 897.1284,294.7969 Q896.0503,295.25 894.7534,295.25 Q893.2378,295.25 892.0347,294.625 Q891.0503,294.125 890.3628,293.0625 Q889.6753,291.9844 889.6753,290.7031 L889.6753,289.5469 Q889.6753,288.2188 890.2847,287.0781 Q890.9097,285.9219 892.0034,285.3125 Q893.0972,284.6875 894.3315,284.6875 Q895.0659,284.6875 895.7065,284.8594 Q896.3628,285.0156 896.9097,285.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.5098" x="914.644" y="295.2969">LendingService</text><line style="stroke:#181818;stroke-width:0.5;" x1="708" x2="1185.2979" y1="305.5" y2="305.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="708" x2="1185.2979" y1="313.5" y2="313.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.4229" x="713" y="332.6074">+LendingDTO borrow(Long, String, Integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300.0088" x="713" y="351.2285">+LendingDTO returnById(Long, Boolean, String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="454.0908" x="713" y="369.8496">+LendingDTO returnByReaderAndBook(ReturnRequest, Boolean, String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="467.2979" x="713" y="388.4707">+LendingDTO returnByReaderAndBookTitle(String, String, Boolean, String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="440.7881" x="713" y="407.0918">+RecommendationSummaryDTO getRecommendationSummary(Long)</text></g><!--class LendingRepository--><g class="entity" data-entity="LendingRepository" data-source-line="35" data-uid="ent0006" id="entity_LendingRepository"><rect fill="#F1F1F1" height="122.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="641.1934" x="7" y="489.5"/><ellipse cx="264.9746" cy="505.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M265.9277,502.1406 L265.9277,508.7969 L267.6465,508.7969 Q268.2559,508.7969 268.5215,509.0313 Q268.7871,509.2656 268.7871,509.6563 Q268.7871,510.0313 268.5215,510.2656 Q268.2559,510.5 267.6465,510.5 L262.5059,510.5 Q261.8965,510.5 261.6309,510.2656 Q261.3652,510.0313 261.3652,509.6406 Q261.3652,509.2656 261.6309,509.0313 Q261.8965,508.7969 262.5059,508.7969 L264.2246,508.7969 L264.2246,502.1406 L262.5059,502.1406 Q261.8965,502.1406 261.6309,501.9063 Q261.3652,501.6719 261.3652,501.2813 Q261.3652,500.9063 261.6309,500.6719 Q261.8965,500.4375 262.5059,500.4375 L267.6465,500.4375 Q268.2559,500.4375 268.5215,500.6719 Q268.7871,500.9063 268.7871,501.2813 Q268.7871,501.6719 268.5215,501.9063 Q268.2559,502.1406 267.6465,502.1406 L265.9277,502.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="116.7441" x="285.4746" y="511.2969">LendingRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="647.1934" y1="521.5" y2="521.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="647.1934" y1="529.5" y2="529.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="419.8838" x="13" y="548.6074">+java.util.Optional&lt;Lending&gt; findByIdAndReturnedDateIsNull(Long)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="629.1934" x="13" y="567.2285">+java.util.Optional&lt;Lending&gt; findFirstByReaderEmailAndBookIdAndReturnedDateIsNull(String, Long)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321.7949" x="13" y="585.8496">+java.util.List&lt;Lending&gt; findByReturnedDateIsNull()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.6162" x="13" y="604.4707">+Lending save(Lending)</text></g><!--class RecommendationRepository--><g class="entity" data-entity="RecommendationRepository" data-source-line="42" data-uid="ent0007" id="entity_RecommendationRepository"><rect fill="#F1F1F1" height="122.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.9326" x="683.5" y="489.5"/><ellipse cx="762.896" cy="505.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M763.8491,502.1406 L763.8491,508.7969 L765.5679,508.7969 Q766.1772,508.7969 766.4429,509.0313 Q766.7085,509.2656 766.7085,509.6563 Q766.7085,510.0313 766.4429,510.2656 Q766.1772,510.5 765.5679,510.5 L760.4272,510.5 Q759.8179,510.5 759.5522,510.2656 Q759.2866,510.0313 759.2866,509.6406 Q759.2866,509.2656 759.5522,509.0313 Q759.8179,508.7969 760.4272,508.7969 L762.146,508.7969 L762.146,502.1406 L760.4272,502.1406 Q759.8179,502.1406 759.5522,501.9063 Q759.2866,501.6719 759.2866,501.2813 Q759.2866,500.9063 759.5522,500.6719 Q759.8179,500.4375 760.4272,500.4375 L765.5679,500.4375 Q766.1772,500.4375 766.4429,500.6719 Q766.7085,500.9063 766.7085,501.2813 Q766.7085,501.6719 766.4429,501.9063 Q766.1772,502.1406 765.5679,502.1406 L763.8491,502.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="176.6406" x="783.396" y="511.2969">RecommendationRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="684.5" x2="1026.4326" y1="521.5" y2="521.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="684.5" x2="1026.4326" y1="529.5" y2="529.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.9883" x="689.5" y="548.6074">+boolean existsByLendingId(Long)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.9326" x="689.5" y="567.2285">+long countByBookIdAndSentiment(Long, Sentiment)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.4092" x="689.5" y="585.8496">+Recommendation save(Recommendation)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.7402" x="689.5" y="604.4707">+java.util.List&lt;Recommendation&gt; findAll()</text></g><!--class LendingController--><g class="entity" data-entity="LendingController" data-source-line="49" data-uid="ent0008" id="entity_LendingController"><rect fill="#F1F1F1" height="178.3477" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="462.2217" x="715.5" y="7"/><ellipse cx="887.1025" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M889.8682,18.875 Q890.0244,18.6563 890.2119,18.5469 Q890.3994,18.4375 890.6182,18.4375 Q890.9932,18.4375 891.2275,18.7031 Q891.4619,18.9531 891.4619,19.5625 L891.4619,21.0156 Q891.4619,21.625 891.2275,21.8906 Q890.9932,22.1563 890.6182,22.1563 Q890.2744,22.1563 890.0713,21.9531 Q889.8682,21.7656 889.7588,21.25 Q889.7119,20.8906 889.5244,20.7031 Q889.1963,20.3281 888.5869,20.1094 Q887.9775,19.8906 887.3525,19.8906 Q886.5869,19.8906 885.9463,20.2188 Q885.3213,20.5469 884.8213,21.2969 Q884.3369,22.0469 884.3369,23.0781 L884.3369,24.1719 Q884.3369,25.4063 885.2275,26.2344 Q886.1182,27.0469 887.7119,27.0469 Q888.6494,27.0469 889.3057,26.7969 Q889.6963,26.6406 890.1182,26.2031 Q890.3838,25.9375 890.5244,25.8594 Q890.6807,25.7813 890.8838,25.7813 Q891.2119,25.7813 891.4619,26.0469 Q891.7275,26.2969 891.7275,26.6406 Q891.7275,26.9844 891.3838,27.3906 Q890.8838,27.9688 890.0869,28.2969 Q889.0088,28.75 887.7119,28.75 Q886.1963,28.75 884.9932,28.125 Q884.0088,27.625 883.3213,26.5625 Q882.6338,25.4844 882.6338,24.2031 L882.6338,23.0469 Q882.6338,21.7188 883.2432,20.5781 Q883.8682,19.4219 884.9619,18.8125 Q886.0557,18.1875 887.29,18.1875 Q888.0244,18.1875 888.665,18.3594 Q889.3213,18.5156 889.8682,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5166" x="907.6025" y="28.7969">LendingController</text><line style="stroke:#181818;stroke-width:0.5;" x1="716.5" x2="1176.7217" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="716.5" x2="1176.7217" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269.6367" x="721.5" y="66.1074">+ResponseEntity&lt;LendingDTO&gt; borrow(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="291.4297" x="721.5" y="84.7285">+ResponseEntity&lt;LendingDTO&gt; returnById(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="382.4912" x="721.5" y="103.3496">+ResponseEntity&lt;LendingDTO&gt; returnByReaderAndBook(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="408.9395" x="721.5" y="121.9707">+ResponseEntity&lt;LendingDTO&gt; returnByReaderAndBookTitle(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="440.7881" x="721.5" y="140.5918">+RecommendationSummaryDTO getRecommendationSummary(Long)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450.2217" x="721.5" y="159.2129">+ResponseEntity&lt;String&gt; handleAlreadyReturned(IllegalStateException)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450.2217" x="721.5" y="177.834">+ResponseEntity&lt;String&gt; handleBadRequest(IllegalArgumentException)</text></g><!--class LendingDTO--><g class="entity" data-entity="LendingDTO" data-source-line="69" data-uid="ent0012" id="entity_LendingDTO"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.3789" x="161" y="72"/><ellipse cx="176" cy="88" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M178.7656,83.875 Q178.9219,83.6563 179.1094,83.5469 Q179.2969,83.4375 179.5156,83.4375 Q179.8906,83.4375 180.125,83.7031 Q180.3594,83.9531 180.3594,84.5625 L180.3594,86.0156 Q180.3594,86.625 180.125,86.8906 Q179.8906,87.1563 179.5156,87.1563 Q179.1719,87.1563 178.9688,86.9531 Q178.7656,86.7656 178.6563,86.25 Q178.6094,85.8906 178.4219,85.7031 Q178.0938,85.3281 177.4844,85.1094 Q176.875,84.8906 176.25,84.8906 Q175.4844,84.8906 174.8438,85.2188 Q174.2188,85.5469 173.7188,86.2969 Q173.2344,87.0469 173.2344,88.0781 L173.2344,89.1719 Q173.2344,90.4063 174.125,91.2344 Q175.0156,92.0469 176.6094,92.0469 Q177.5469,92.0469 178.2031,91.7969 Q178.5938,91.6406 179.0156,91.2031 Q179.2813,90.9375 179.4219,90.8594 Q179.5781,90.7813 179.7813,90.7813 Q180.1094,90.7813 180.3594,91.0469 Q180.625,91.2969 180.625,91.6406 Q180.625,91.9844 180.2813,92.3906 Q179.7813,92.9688 178.9844,93.2969 Q177.9063,93.75 176.6094,93.75 Q175.0938,93.75 173.8906,93.125 Q172.9063,92.625 172.2188,91.5625 Q171.5313,90.4844 171.5313,89.2031 L171.5313,88.0469 Q171.5313,86.7188 172.1406,85.5781 Q172.7656,84.4219 173.8594,83.8125 Q174.9531,83.1875 176.1875,83.1875 Q176.9219,83.1875 177.5625,83.3594 Q178.2188,83.5156 178.7656,83.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3789" x="190" y="93.7969">LendingDTO</text><line style="stroke:#181818;stroke-width:0.5;" x1="162" x2="271.3789" y1="104" y2="104"/><line style="stroke:#181818;stroke-width:0.5;" x1="162" x2="271.3789" y1="112" y2="112"/></g><!--class ReturnRequest--><g class="entity" data-entity="ReturnRequest" data-source-line="70" data-uid="ent0013" id="entity_ReturnRequest"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.165" x="15.5" y="320"/><ellipse cx="30.5" cy="336" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M33.2656,331.875 Q33.4219,331.6563 33.6094,331.5469 Q33.7969,331.4375 34.0156,331.4375 Q34.3906,331.4375 34.625,331.7031 Q34.8594,331.9531 34.8594,332.5625 L34.8594,334.0156 Q34.8594,334.625 34.625,334.8906 Q34.3906,335.1563 34.0156,335.1563 Q33.6719,335.1563 33.4688,334.9531 Q33.2656,334.7656 33.1563,334.25 Q33.1094,333.8906 32.9219,333.7031 Q32.5938,333.3281 31.9844,333.1094 Q31.375,332.8906 30.75,332.8906 Q29.9844,332.8906 29.3438,333.2188 Q28.7188,333.5469 28.2188,334.2969 Q27.7344,335.0469 27.7344,336.0781 L27.7344,337.1719 Q27.7344,338.4063 28.625,339.2344 Q29.5156,340.0469 31.1094,340.0469 Q32.0469,340.0469 32.7031,339.7969 Q33.0938,339.6406 33.5156,339.2031 Q33.7813,338.9375 33.9219,338.8594 Q34.0781,338.7813 34.2813,338.7813 Q34.6094,338.7813 34.8594,339.0469 Q35.125,339.2969 35.125,339.6406 Q35.125,339.9844 34.7813,340.3906 Q34.2813,340.9688 33.4844,341.2969 Q32.4063,341.75 31.1094,341.75 Q29.5938,341.75 28.3906,341.125 Q27.4063,340.625 26.7188,339.5625 Q26.0313,338.4844 26.0313,337.2031 L26.0313,336.0469 Q26.0313,334.7188 26.6406,333.5781 Q27.2656,332.4219 28.3594,331.8125 Q29.4531,331.1875 30.6875,331.1875 Q31.4219,331.1875 32.0625,331.3594 Q32.7188,331.5156 33.2656,331.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.165" x="44.5" y="341.7969">ReturnRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="16.5" x2="140.665" y1="352" y2="352"/><line style="stroke:#181818;stroke-width:0.5;" x1="16.5" x2="140.665" y1="360" y2="360"/></g><!--class RecommendationSummaryDTO--><g class="entity" data-entity="RecommendationSummaryDTO" data-source-line="71" data-uid="ent0014" id="entity_RecommendationSummaryDTO"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231.1719" x="177" y="320"/><ellipse cx="192" cy="336" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M194.7656,331.875 Q194.9219,331.6563 195.1094,331.5469 Q195.2969,331.4375 195.5156,331.4375 Q195.8906,331.4375 196.125,331.7031 Q196.3594,331.9531 196.3594,332.5625 L196.3594,334.0156 Q196.3594,334.625 196.125,334.8906 Q195.8906,335.1563 195.5156,335.1563 Q195.1719,335.1563 194.9688,334.9531 Q194.7656,334.7656 194.6563,334.25 Q194.6094,333.8906 194.4219,333.7031 Q194.0938,333.3281 193.4844,333.1094 Q192.875,332.8906 192.25,332.8906 Q191.4844,332.8906 190.8438,333.2188 Q190.2188,333.5469 189.7188,334.2969 Q189.2344,335.0469 189.2344,336.0781 L189.2344,337.1719 Q189.2344,338.4063 190.125,339.2344 Q191.0156,340.0469 192.6094,340.0469 Q193.5469,340.0469 194.2031,339.7969 Q194.5938,339.6406 195.0156,339.2031 Q195.2813,338.9375 195.4219,338.8594 Q195.5781,338.7813 195.7813,338.7813 Q196.1094,338.7813 196.3594,339.0469 Q196.625,339.2969 196.625,339.6406 Q196.625,339.9844 196.2813,340.3906 Q195.7813,340.9688 194.9844,341.2969 Q193.9063,341.75 192.6094,341.75 Q191.0938,341.75 189.8906,341.125 Q188.9063,340.625 188.2188,339.5625 Q187.5313,338.4844 187.5313,337.2031 L187.5313,336.0469 Q187.5313,334.7188 188.1406,333.5781 Q188.7656,332.4219 189.8594,331.8125 Q190.9531,331.1875 192.1875,331.1875 Q192.9219,331.1875 193.5625,331.3594 Q194.2188,331.5156 194.7656,331.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.1719" x="206" y="341.7969">RecommendationSummaryDTO</text><line style="stroke:#181818;stroke-width:0.5;" x1="178" x2="407.1719" y1="352" y2="352"/><line style="stroke:#181818;stroke-width:0.5;" x1="178" x2="407.1719" y1="360" y2="360"/></g><!--link LendingService to LendingRepository--><g class="link" data-entity-1="LendingService" data-entity-2="LendingRepository" data-source-line="73" data-uid="lnk15" id="link_LendingService_LendingRepository"><path codeLine="73" d="M736.07,414.52 C662.38,438.86 586.0172,464.098 514.8772,487.598" fill="none" id="LendingService-to-LendingRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="509.18,489.48,518.9805,490.4552,513.9277,487.9117,516.4712,482.8589,509.18,489.48" style="stroke:#181818;stroke-width:1;"/></g><!--link LendingService to RecommendationRepository--><g class="link" data-entity-1="LendingService" data-entity-2="RecommendationRepository" data-source-line="74" data-uid="lnk16" id="link_LendingService_RecommendationRepository"><path codeLine="74" d="M915.56,414.52 C904.74,438.84 895.1396,460.4284 884.6896,483.9084" fill="none" id="LendingService-to-RecommendationRepository" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="882.25,489.39,889.5639,482.794,884.283,484.822,882.2551,479.5411,882.25,489.39" style="stroke:#181818;stroke-width:1;"/></g><!--link LendingService to BookClient--><g class="link" data-entity-1="LendingService" data-entity-2="BookClient" data-source-line="75" data-uid="lnk17" id="link_LendingService_BookClient"><path codeLine="75" d="M1025.71,414.52 C1061.06,445.55 1097.0297,477.1231 1127.5897,503.9331" fill="none" id="LendingService-to-BookClient" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1132.1,507.89,1127.9724,498.9478,1128.3414,504.5926,1122.6966,504.9616,1132.1,507.89" style="stroke:#181818;stroke-width:1;"/></g><!--link LendingService to ReaderClient--><g class="link" data-entity-1="LendingService" data-entity-2="ReaderClient" data-source-line="76" data-uid="lnk18" id="link_LendingService_ReaderClient"><path codeLine="76" d="M1186.49,409.69 C1229.78,424.84 1273.75,442.61 1313.5,463 C1342.05,477.64 1366.4018,495.2584 1388.4018,513.1184" fill="none" id="LendingService-to-ReaderClient" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1393.06,516.9,1388.5937,508.122,1389.1781,513.7486,1383.5515,514.333,1393.06,516.9" style="stroke:#181818;stroke-width:1;"/></g><!--link LendingController to LendingService--><g class="link" data-entity-1="LendingController" data-entity-2="LendingService" data-source-line="77" data-uid="lnk19" id="link_LendingController_LendingService"><path codeLine="77" d="M946.5,185.12 C946.5,214.07 946.5,239.83 946.5,267.23" fill="none" id="LendingController-to-LendingService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="946.5,273.23,950.5,264.23,946.5,268.23,942.5,264.23,946.5,273.23" style="stroke:#181818;stroke-width:1;"/></g><!--link Recommendation to Lending--><g class="link" data-entity-1="Recommendation" data-entity-2="Lending" data-source-line="78" data-uid="lnk20" id="link_Recommendation_Lending"><path codeLine="78" d="M557.5,185.12 C557.5,210.76 557.5,232.61 557.5,257.67" fill="none" id="Recommendation-to-Lending" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="557.5,263.67,561.5,254.67,557.5,258.67,553.5,254.67,557.5,263.67" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7681" x="558.5" y="230.0283">lendingId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="537.7324" y="207.2301">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="550.2104" y="252.812">1</text></g><!--SRC=[dLR9Rjim4BthAmYVx3OHqciH690JjH1Wn8Laz4vB4vKrHQeavSOjyk-bI56RPIVroLmUP-QzMMIv9wp40XSefLZAG2b1TfM2AEKi8Ny0tNcUkK5hO1bXEVhh8VHnpVMAPEron_a-Cjj46z070d068YmmeVNfJtp0lY85-6kUOlg85I2fi53rwXmWg-3IjG1L2GQPmRnw7h2gG0cm6iQKYVFR9ecsqVTGBv_2hu5PlZf2CQIyqD0CAyBPD2zgIKVlPze58Dsg1xOUrHbAMxr3gJQe80jK5saZVGBYG59e8hLdZzkD3aa8_djUXtU3hACR5345EOZ526j5MnsZhC6lEAU0cNju3XyRbW7BD7u_Zyrf3BygaEew6rkYACnTjEvtoj8mJqbL55WSQxivgCaxmsnHoqUq2E8PQysQS68ekIIAYwDLqIIXKeJwcxAsWEbzWroYPw8ZrKBfWEDUgKNogQAqyV4E4r-8aCgHDsNIA73EijDYmiEQI3KESC92Fm58uWFCcyr8bA5wOsrsDXS8NhHNkJgkNIzqt2atDLqnJR2br7Q0gqYtdyYcZMvuDiLvYB3K0yDqt2GFd2d1AGLXMSGWIyuaX3e8TRplodBf-iRt_SKRo5xN_0Tws3FNFhIDqhs-hXbE7TioMw8Vc6KK0bhFiRQOvf5MCCSqKRggmfSKoZOp5ysiSDPC1MSX47bL9xzdHAUinEaUvu0UA76pkYlBcdNlebUAzV0DJJcsjDnS5Y0vFO2jmjMnFrvgsEl0WnLusaSppwsNle5nfMdLsoz9RnnEVbswH7dUQ9hx_l9qEas1pdNh5DPIypibBu3wOdYdNTIBhtdiZNfuTkVx7sRezdQ9PfzcxH-5pztNyny0]--></g></svg>