<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="546px" preserveAspectRatio="none" style="width:1496px;height:546px;background:#FFFFFF;" version="1.1" viewBox="0 0 1496 546" width="1496px" zoomAndPan="magnify"><title>OAuth Login - Components &amp; Flow (Phase 1)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="298.6553" x="591.9897" y="25.1074">OAuth Login - Components &amp; Flow (Phase 1)</text></g><!--cluster Frontend--><g class="cluster" data-entity="Frontend" data-source-line="6" data-uid="ent0002" id="cluster_Frontend"><path d="M915.5,447.6348 L977.1553,447.6348 A3.75,3.75 0 0 1 979.6553,450.1348 L986.6553,472.2559 L1028.5,472.2559 A2.5,2.5 0 0 1 1031,474.7559 L1031,537.1348 A2.5,2.5 0 0 1 1028.5,539.6348 L915.5,539.6348 A2.5,2.5 0 0 1 913,537.1348 L913,450.1348 A2.5,2.5 0 0 1 915.5,447.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="913" x2="986.6553" y1="472.2559" y2="472.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60.6553" x="917" y="464.7422">Frontend</text></g><!--cluster Spring Security (App)--><g class="cluster" data-entity="Spring Security .App." data-source-line="10" data-uid="ent0004" id="cluster_Spring Security .App."><path d="M8.5,45.6348 L153.3965,45.6348 A3.75,3.75 0 0 1 155.8965,48.1348 L162.8965,70.2559 L795.5,70.2559 A2.5,2.5 0 0 1 798,72.7559 L798,537.1348 A2.5,2.5 0 0 1 795.5,539.6348 L8.5,539.6348 A2.5,2.5 0 0 1 6,537.1348 L6,48.1348 A2.5,2.5 0 0 1 8.5,45.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="162.8965" y1="70.2559" y2="70.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143.8965" x="10" y="62.7422">Spring Security (App)</text></g><!--cluster External IAM Providers--><g class="cluster" data-entity="External IAM Providers" data-source-line="19" data-uid="ent0011" id="cluster_External IAM Providers"><path d="M824.5,304.6348 L978.7754,304.6348 A3.75,3.75 0 0 1 981.2754,307.1348 L988.2754,329.2559 L1119.5,329.2559 A2.5,2.5 0 0 1 1122,331.7559 L1122,394.1348 A2.5,2.5 0 0 1 1119.5,396.6348 L824.5,396.6348 A2.5,2.5 0 0 1 822,394.1348 L822,307.1348 A2.5,2.5 0 0 1 824.5,304.6348" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="822" x2="988.2754" y1="329.2559" y2="329.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="153.2754" x="826" y="321.7422">External IAM Providers</text></g><!--entity FE--><g class="entity" data-entity="FE" data-source-line="7" data-uid="ent0003" id="entity_FE"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.3721" x="929.5" y="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3721" x="939.5" y="509.7422">React App</text></g><!--entity SFC--><g class="entity" data-entity="SFC" data-source-line="11" data-uid="ent0005" id="entity_SFC"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.041" x="619" y="82.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.041" x="629" y="107.7422">Security Filter Chain</text></g><!--entity OAuthClient--><g class="entity" data-entity="OAuthClient" data-source-line="12" data-uid="ent0006" id="entity_OAuthClient"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.1582" x="648.5" y="200.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="658.5" y="225.7422">OAuth2 Client</text></g><!--entity Handler--><g class="entity" data-entity="Handler" data-source-line="13" data-uid="ent0007" id="entity_Handler"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.3574" x="161" y="341.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.3574" x="171" y="366.7422">OAuthAuthenticationSuccessHandler</text></g><!--entity JWT--><g class="entity" data-entity="JWT" data-source-line="14" data-uid="ent0008" id="entity_JWT"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.1445" x="239.5" y="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="249.5" y="509.7422">JwtEncoder</text></g><!--entity Mapper--><g class="entity" data-entity="Mapper" data-source-line="15" data-uid="ent0009" id="entity_Mapper"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.3721" x="585.5" y="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3721" x="595.5" y="509.7422">UserViewMapper</text></g><!--entity Repo--><g class="entity" data-entity="Repo" data-source-line="16" data-uid="ent0010" id="entity_Repo"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.4756" x="22" y="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4756" x="32" y="509.7422">UserRepository</text></g><!--entity GitHub--><g class="entity" data-entity="GitHub" data-source-line="20" data-uid="ent0012" id="entity_GitHub"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.1514" x="838.5" y="341.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1514" x="848.5" y="366.7422">GitHub OAuth</text></g><!--entity Facebook--><g class="entity" data-entity="Facebook" data-source-line="21" data-uid="ent0013" id="entity_Facebook"><rect fill="#F1F1F1" height="38.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0615" x="980.5" y="341.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0615" x="990.5" y="366.7422">Facebook OAuth</text></g><!--link FE to SFC--><g class="link" data-entity-1="FE" data-entity-2="SFC" data-source-line="25" data-uid="lnk14" id="link_FE_SFC"><path d="M1014.52,490.2548 C1111.19,458.7948 1333.29,373.0348 1256,269.6348 C1196.75,190.3648 909.6967,136.5996 770.9867,114.7196" fill="none" id="FE-to-SFC" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="765.06,113.7848,773.3268,119.1382,769.9989,114.5638,774.5733,111.2359,765.06,113.7848" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.6348" x="1267" y="284.6631">/oauth2/authorization/GitHub|facebook</text></g><!--link SFC to OAuthClient--><g class="link" data-entity-1="SFC" data-entity-2="OAuthClient" data-source-line="26" data-uid="lnk15" id="link_SFC_OAuthClient"><path d="M693.61,121.7748 C695.47,143.4148 698.0132,172.9371 699.8832,194.5671" fill="none" id="SFC-to-OAuthClient" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="700.4,200.5448,703.6099,191.2337,699.9693,195.5633,695.6397,191.9227,700.4,200.5448" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0571" x="699" y="166.6631">start OAuth2 login</text></g><!--link OAuthClient to GitHub--><g class="link" data-entity-1="OAuthClient" data-entity-2="GitHub" data-source-line="27" data-uid="lnk16" id="link_OAuthClient_GitHub"><path d="M708.76,239.8048 C715.46,255.4848 727.3,277.1148 745,288.6348 C764.97,301.6248 775.81,287.9748 798,296.6348 C825.15,307.2248 847.6647,323.0218 865.7547,337.6518" fill="none" id="OAuthClient-to-GitHub" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="870.42,341.4248,865.9374,332.6551,866.5323,338.2806,860.9068,338.8755,870.42,341.4248" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3335" x="746" y="284.6631">Auth request (redirect)</text></g><!--link GitHub to OAuthClient--><g class="link" data-entity-1="GitHub" data-entity-2="OAuthClient" data-source-line="31" data-uid="lnk18" id="link_GitHub_OAuthClient"><path d="M871.82,341.4548 C853.92,326.2148 826.3,305.7548 798,296.6348 C783.72,292.0348 538.45,299.4048 528,288.6348 C488.62,248.0648 577.8,232.0438 642.38,225.5638" fill="none" id="GitHub-to-OAuthClient" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="648.35,224.9648,638.9956,221.8833,643.375,225.464,639.7943,229.8433,648.35,224.9648" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.3062" x="529" y="284.6631">id token / user info (email, name)</text></g><!--link OAuthClient to Facebook--><g class="link" data-entity-1="OAuthClient" data-entity-2="Facebook" data-source-line="28" data-uid="lnk17" id="link_OAuthClient_Facebook"><path d="M755.84,223.6048 C861.5,229.0048 1087.79,243.5048 1111,269.6348 C1131.95,293.2148 1104.814,319.362 1077.994,338.152" fill="none" id="OAuthClient-to-Facebook" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1073.08,341.5948,1082.7462,339.7067,1077.175,338.7258,1078.1559,333.1546,1073.08,341.5948" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3335" x="1118" y="284.6631">Auth request (redirect)</text></g><!--link Facebook to OAuthClient--><g class="link" data-entity-1="Facebook" data-entity-2="OAuthClient" data-source-line="32" data-uid="lnk19" id="link_Facebook_OAuthClient"><path d="M1025.13,341.3948 C1010.02,326.7548 987.03,307.1748 963,296.6348 C941.99,287.4248 933.59,296.4048 912,288.6348 C896.44,283.0348 895.23,276.0848 880,269.6348 C839.75,252.5748 797.6635,241.2325 761.6835,233.1325" fill="none" id="Facebook-to-OAuthClient" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="755.83,231.8148,763.7317,237.6938,760.7079,232.9129,765.4888,229.8891,755.83,231.8148" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.3062" x="913" y="284.6631">id token / user info (email, name)</text></g><!--link OAuthClient to Handler--><g class="link" data-entity-1="OAuthClient" data-entity-2="Handler" data-source-line="35" data-uid="lnk20" id="link_OAuthClient_Handler"><path d="M648.19,223.2948 C538.76,228.2548 298.53,242.1648 274,269.6348 C256.58,289.1448 264.0903,315.6449 273.4203,335.9049" fill="none" id="OAuthClient-to-Handler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="275.93,341.3548,275.7986,331.5068,273.8385,336.8132,268.5321,334.8531,275.93,341.3548" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.5933" x="275" y="284.6631">onAuthenticationSuccess(authentication)</text></g><!--link Handler to Repo--><g class="link" data-entity-1="Handler" data-entity-2="Repo" data-source-line="37" data-uid="lnk21" id="link_Handler_Repo"><path d="M164.6,380.6348 C129.34,388.5448 97.26,399.1248 86,412.6348 C69.37,432.5948 70.5801,458.5164 74.3301,478.6264" fill="none" id="Handler-to-Repo" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="75.43,484.5248,77.7124,474.944,74.5134,479.6095,69.848,476.4105,75.43,484.5248" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.8652" x="87" y="427.6631">exists/find &amp; (optional) save user</text></g><!--link Handler to JWT--><g class="link" data-entity-1="Handler" data-entity-2="JWT" data-source-line="38" data-uid="lnk22" id="link_Handler_JWT"><path d="M284.62,380.8248 C283.99,390.3448 283.31,402.1048 283,412.6348 C282.26,437.4648 283.2167,460.1258 284.3267,478.4258" fill="none" id="Handler-to-JWT" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="284.69,484.4148,288.1378,475.1891,284.3873,479.4239,280.1524,475.6735,284.69,484.4148" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.1724" x="284" y="427.6631">encode(claims: issuer, subject=id,username, roles, exp)</text></g><!--link Handler to Mapper--><g class="link" data-entity-1="Handler" data-entity-2="Mapper" data-source-line="39" data-uid="lnk23" id="link_Handler_Mapper"><path d="M411.39,369.2748 C488.88,376.0148 579.23,388.7948 610,412.6348 C632.58,430.1348 641.1671,457.4227 645.1971,478.3827" fill="none" id="Handler-to-Mapper" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="646.33,484.2748,648.5587,474.6814,645.3859,479.3647,640.7026,476.1919,646.33,484.2748" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.1172" x="627" y="427.6631">map User -&gt; UserView</text></g><!--link Handler to FE--><g class="link" data-entity-1="Handler" data-entity-2="FE" data-source-line="42" data-uid="lnk24" id="link_Handler_FE"><path d="M411.25,364.6648 C509.46,369.1748 648.84,381.1848 767,412.6348 C830.35,429.4948 893.8289,460.5456 933.4389,481.7256" fill="none" id="Handler-to-FE" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="938.73,484.5548,932.6795,476.7836,934.3208,482.1971,928.9072,483.8383,938.73,484.5548" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.0425" x="820" y="427.6631">JSON { token, id, userName, fullName }</text></g><!--SRC=[dLHDSzem4BtxL-paqDXJA6rwIoUT8GmqoUHhGf8UEZq8MyPRXEHASaYQvhztLxOfXlHIPW1xTz_JszMJF7ebuMfO-GBEpHmrz65abgNHKdi7Rs2Yp0hYwq8u2H-IA78BrAMmOWbfMpRrJyHXPUg5dYkvKU8AaPaLwZdaGZaPHQL85s8kOMzYZVPIPtlm705ykv4YzJ0io-yW74p6qSj6xRIqJ36LQMNHFq5CTKa3N0SdgBoqC2e4wa0odOou8BHs02E5f3GaGgH-NnVmbzun5HwDdbPfAfqx4JfJqWPGyyo0ivKVwzHaJURiwor7xvoqzoXN5w8icqpzs2PlP6aSUcEVGf9VErsE7qc_5WfEXnTmRSq3qWgkQVCB-fDgLaiFy3h0gOb8vSoOnKQo3J7_FlJxVJYsPaKQ03Lw55usKpY0dBUNAgB9cFu-yzJW40P6S7R0lyRYhp2LGRtcxxnbvrh6R0oKiCuBwrjwnPQADWiOq7Hp2C5sLlwifFCGMvaXkoZP0Qnx_3UaQNGab9hHI665LDVH3xndy1QyMKWDyZ4joAuoDDy8scq6iwPy05Kzlzn0B9S2LG-qMCeaMclxBtGZkt4S56mpDZkhsfv2uq4YDlfLmyQY4oNs5i9mTXnXvICwxmOvweoETsnABXKg0ISUPD3PGP6z6HGC7wTAuD9HOyvLqlR0LRCVDFqZp7eCv9PwO8sIhaVhb4c7gJuEHBOK9V2900gsnuO7SHG-S2yi2cfv275QEM_e6jcS3k5MjETPqjHtrY0N7yBPzEeIdklHzsWJUg6hoo0khvJY9tXvPSLZY3EPYqhvxIK_0UPmUNMxjVG-QEFfwiDvuS7adQjb7m1ESog0RXUjN7HaI9tZl296iiRwVXk5Q2yGD5SVwNUmBMqc2_60nluz1TGoY7N-xkOyUKSiTCi6cVIuSwvuN1_V7v0t6eQT0J1Bz0S0]--></g></svg>