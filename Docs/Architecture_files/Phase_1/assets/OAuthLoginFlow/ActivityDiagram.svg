<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="856px" preserveAspectRatio="none" style="width:437px;height:856px;background:#FFFFFF;" version="1.1" viewBox="0 0 437 856" width="437px" zoomAndPan="magnify"><defs/><g><ellipse cx="206.0801" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140.0645" x="136.0479" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120.0645" x="146.0479" y="72.9492">OAuth2 success event</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="170.0703" x="121.0449" y="105.9609"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="150.0703" x="131.0449" y="128.9102">Read provider, email, profile</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="147.4004" x="132.3799" y="211.2373"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127.4004" x="142.3799" y="234.1865">HTTP 400 Bad Request</text><ellipse cx="206.0801" cy="285.7178" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="206.0801" cy="285.7178" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><polygon fill="#F1F1F1" points="146.7805,161.9219,265.3796,161.9219,277.3796,173.9219,265.3796,185.9219,146.7805,185.9219,134.7805,173.9219,146.7805,161.9219" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.1177" x="210.0801" y="197.792">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118.5991" x="146.7805" y="178.4766">email or profile missing?</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.373" x="124.3936" y="338.7178"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.373" x="134.3936" y="361.667">existsByUsername(email)?</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="390.1602" x="11" y="443.9941"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="370.1602" x="21" y="466.9434">Create &amp; save new User (username, name, iamProvider, default pwd)</text><polygon fill="#F1F1F1" points="194.0801,394.6787,218.0801,394.6787,230.0801,406.6787,218.0801,418.6787,194.0801,418.6787,182.0801,406.6787,194.0801,394.6787" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70.3291" x="210.0801" y="430.5488">user not found</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12.2354" x="199.9624" y="411.2334">no</text><polygon fill="#F1F1F1" points="206.0801,499.9551,218.0801,511.9551,206.0801,523.9551,194.0801,511.9551,206.0801,499.9551" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75.3652" x="168.3975" y="543.9551"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55.3652" x="178.3975" y="566.9043">Load User</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="141.7227" x="135.2188" y="599.916"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.7227" x="145.2188" y="622.8652">Get authorities -&gt; roles</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="299.2813" x="56.4395" y="655.877"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="279.2813" x="66.4395" y="678.8262">Build JWT (issuer, subject "id,username", roles, exp)</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="141.0313" x="135.5645" y="711.8379"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.0313" x="145.5645" y="734.7871">Map User -&gt; UserView</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="264.1074" x="74.0264" y="767.7988"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="244.1074" x="84.0264" y="790.748">Return JSON {token, id, userName, fullName}</text><ellipse cx="206.0801" cy="834.7598" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="206.0801" cy="834.7598" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="30" y2="50"/><polygon fill="#181818" points="202.0801,40,206.0801,50,210.0801,40,206.0801,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="85.9609" y2="105.9609"/><polygon fill="#181818" points="202.0801,95.9609,206.0801,105.9609,210.0801,95.9609,206.0801,99.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="247.1982" y2="274.7178"/><polygon fill="#181818" points="202.0801,264.7178,206.0801,274.7178,210.0801,264.7178,206.0801,268.7178" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="185.9219" y2="211.2373"/><polygon fill="#181818" points="202.0801,201.2373,206.0801,211.2373,210.0801,201.2373,206.0801,205.2373" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="277.3796" x2="289.7803" y1="173.9219" y2="173.9219"/><polygon fill="#181818" points="285.7803,244.7178,289.7803,254.7178,293.7803,244.7178,289.7803,248.7178" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.7803" x2="289.7803" y1="173.9219" y2="318.7178"/><line style="stroke:#181818;stroke-width:1;" x1="289.7803" x2="206.0801" y1="318.7178" y2="318.7178"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="318.7178" y2="338.7178"/><polygon fill="#181818" points="202.0801,328.7178,206.0801,338.7178,210.0801,328.7178,206.0801,332.7178" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="141.9219" y2="161.9219"/><polygon fill="#181818" points="202.0801,151.9219,206.0801,161.9219,210.0801,151.9219,206.0801,155.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="418.6787" y2="443.9941"/><polygon fill="#181818" points="202.0801,433.9941,206.0801,443.9941,210.0801,433.9941,206.0801,437.9941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.0801" x2="411.1602" y1="406.6787" y2="406.6787"/><polygon fill="#181818" points="407.1602,451.9746,411.1602,461.9746,415.1602,451.9746,411.1602,455.9746" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="411.1602" x2="411.1602" y1="406.6787" y2="511.9551"/><line style="stroke:#181818;stroke-width:1;" x1="411.1602" x2="218.0801" y1="511.9551" y2="511.9551"/><polygon fill="#181818" points="228.0801,507.9551,218.0801,511.9551,228.0801,515.9551,224.0801,511.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="479.9551" y2="499.9551"/><polygon fill="#181818" points="202.0801,489.9551,206.0801,499.9551,210.0801,489.9551,206.0801,493.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="374.6787" y2="394.6787"/><polygon fill="#181818" points="202.0801,384.6787,206.0801,394.6787,210.0801,384.6787,206.0801,388.6787" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="523.9551" y2="543.9551"/><polygon fill="#181818" points="202.0801,533.9551,206.0801,543.9551,210.0801,533.9551,206.0801,537.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="579.916" y2="599.916"/><polygon fill="#181818" points="202.0801,589.916,206.0801,599.916,210.0801,589.916,206.0801,593.916" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="635.877" y2="655.877"/><polygon fill="#181818" points="202.0801,645.877,206.0801,655.877,210.0801,645.877,206.0801,649.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="691.8379" y2="711.8379"/><polygon fill="#181818" points="202.0801,701.8379,206.0801,711.8379,210.0801,701.8379,206.0801,705.8379" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="747.7988" y2="767.7988"/><polygon fill="#181818" points="202.0801,757.7988,206.0801,767.7988,210.0801,757.7988,206.0801,761.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.0801" x2="206.0801" y1="803.7598" y2="823.7598"/><polygon fill="#181818" points="202.0801,813.7598,206.0801,823.7598,210.0801,813.7598,206.0801,817.7598" style="stroke:#181818;stroke-width:1;"/><!--SRC=[FP1FImCn4CNl-HIF7gGBAnJnj0kAzQ0KRKkjUexDh8rcapMJz0_YTpVPfRqaOIRpUsyU1-c3g1PtCMolm76p8MRGZcoeHRKYgT1vjzEAV0bgfJPbBZJQK2s4RZ3kYt3-L4QhcRNzl2qGjcGnFX8N0gWUr-ibhYSJJ1DqHJ-HE6a075mdo2hT257HGNFWwV6LoLlPqe0lRkjUoxeJDAO-h0jeNBIgvzzxae5m0POxWgKzCcJucb4bXbFBTdbUIL4ZemdezggepowUNBAOfrC63nGWKphEww29SNa3xmnnQasZDWgpzpN6QUUOUHm_lcWJCDAgF0cFoc4Y1NZeaahrBBl1MsBb-qtJlayxH6ynUrdCyHlSDzbaLfN8d7bllOd6vDTVBN9g_m00]--></g></svg>